#include <fstream>
#include <iostream>

using namespace std;

void FileF() {
    int ran;
    ofstream f("A.dat");

    for (int i = 0; i < 10; i++) {
        ran = rand() % 100 + 1;
        f << ran << " ";
    }
    f.close();
}

void Merger(int* arr, int sizeArr) {
    int h = 1, step;
    int mid = sizeArr / 2;
    if (sizeArr % 2 == 1) mid++;
    int* tmp_Arr = new int[sizeArr];

    while (h < sizeArr) {
        step = h;
        int i = 0, j = mid, k = 0;
        while (step <= mid) {
            while ((i < step) && (j < sizeArr) && (j < (mid + step))) {
                if (arr[i] < arr[j]) {
                    tmp_Arr[k] = arr[i];
                    i++;
                    k++;
                } else {
                    tmp_Arr[k] = arr[j];
                    j++;
                    k++;
                }
            }
            while (i < step) {
                tmp_Arr[k] = arr[i];
                i++;
                k++;
            }
            while ((j < (mid + step)) && (j < sizeArr)) {
                tmp_Arr[k] = arr[j];
                j++;
                k++;
            }
            step = step + h;
        }
        h = h * 2;
        for (i = 0; i < sizeArr; i++) arr[i] = tmp_Arr[i];
    }
}

void vyvod(int* arr, int size) {
    for (int i = 0; i < size; i++) {
        cout << arr[i] << endl;
    }
}

int main() {
    srand(time(NULL));
    int arr[10];
    int rf;
    int s, t = 0;

    FileF();

    ifstream readFile("A.dat");
    for (int i = 0; i < 10; i++) {
        readFile >> arr[i];
    }
    readFile.close();

    Merger(arr, 10);
    vyvod(arr, 10);
}
